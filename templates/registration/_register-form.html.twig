{% from '_macros/field-has_error.html.twig' import hasError %}

{{ form_start(user_form, {'attr' : {'class' : 'm-4'}}) }}

<div class="form-group">
    {{ form_label(user_form.username) }}

    {{ form_widget(user_form.username, {'attr': { 'class': 'form-control' ~ hasError(user_form.username)
  }}) }}

    <div class="text-danger">
        {{ form_errors(user_form.username) }}
    </div>
</div>

<div class="form-group">
    {{ form_label(user_form.avatar) }}
    <div id="avatars">
        <div class="avatar-auto"></div>
        <div class="avatar-auto"></div>
        <div class="avatar-auto"></div>
    </div>
    {{ form_widget(user_form.avatar, {'attr': { 'class': 'form-control' ~ hasError(user_form.avatar)
    }}) }}

    <div class="text-danger">
        {{ form_errors(user_form.avatar) }}
    </div>
</div>

<div class="form-group">
    {{ form_label(user_form.first_name) }}

    {{ form_widget(user_form.first_name, {'attr': { 'class': 'form-control' ~ hasError(user_form.first_name)
  }}) }}

    <div class="text-danger">
        {{ form_errors(user_form.first_name) }}
    </div>
</div>

<div class="form-group">
    {{ form_label(user_form.last_name) }}

    {{ form_widget(user_form.last_name, {'attr': { 'class': 'form-control' ~ hasError(user_form.last_name)
  }}) }}

    <div class="text-danger">
        {{ form_errors(user_form.last_name) }}
    </div>
</div>

<div class="form-group">
    {{ form_label(user_form.email) }}

    {{ form_widget(user_form.email, {'attr': { 'class': 'form-control champ-email' ~ hasError(user_form.email)
  }}) }}

    <div class="text-danger">
        {{ form_errors(user_form.email) }}
    </div>
</div>

{# <input type="password" name="password" id="inputPassword" class="form-control placeholder="Mot de passe" required=""> #}

<div class="form-group">
    {{ form_row(user_form.password.first, {'attr': { 
        'pattern':"(?=.*\)(?=.*[a-z])(?=.*[A-Z]).{8,}", 
        'title':" Doit contenir au moins 8 caractères dont : 1 chiffre, 1 majuscule, 1minuscule" , 'class': 'form-control champ-password' 
        ~ hasError(user_form.password) }})  }}
    {{ form_help(user_form.password, {'help_attr': {'class': 'tiny-text'}})  }}

    <div id="message">
        <h3>Le mot de passe doit contenir:</h3>
        <p id="letter" class="invalid">A
            <b>minuscule</b>
            letter</p>
        <p id="capital" class="invalid">A
            <b>majuscule</b>
            letter</p>
        <p id="number" class="invalid">A
            <b>chiffre</b>
        </p>
        <p id="length" class="invalid">Minimum
            <b>8 caractères</b>
        </p>
    </div>

    {{ form_row(user_form.password.second, {'attr': { 'class': 'form-control champ' ~ hasError(user_form.password) }}) }}
    {{ form_help(user_form.password, {'help_attr': {'class': 'tiny-text'}})  }}

    <div class="text-danger">
        {{ form_errors(user_form.password) }}
    </div>

</div>


<div class="d-flex form-group">
    {{ form_widget(user_form.agreeTerms, {'attr': { 'class': '' ~ hasError(user_form.agreeTerms)
    }}) }}

    <label for="user_agreeTerms" class="required w-100 ml-2">&quot;J&#039;accepte les Conditions Générales de Vente et les Conditions Générales d&#039;utilisations&quot;</label>

    <div class="text-danger">
        {{ form_errors(user_form.agreeTerms) }}
    </div>

</div>
<div id="erreur">
    <p>Vous n'avez pas rempli correctement les champs du formulaire !</p>
</div>

<div class="d-flex justify-content-center">
    {{ form_widget(user_form.submit, { 'attr': { 'class' : 'btn btn-green'}}) }}
    <input type="reset" id="reset" value="Reset" class="btn btn-green ml-4"/>
</div>
{{ form_end(user_form) }}
